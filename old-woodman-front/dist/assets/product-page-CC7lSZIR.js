import{j as e,a as ee,b as he,c as ue,d as P,C as de,A as H,e as Y}from"./index-C5Uq8mPh.js";import{u as M,r,S as ge}from"./ui-CvrfViwR.js";import{u as F}from"./use-product-catalog-v6q4Vyoj.js";import{u as te}from"./current-category-v2fyAVOi.js";import{T as ke}from"./text-info-C0NLSYAq.js";/* empty css                      */import{u as J,P as ye,C as U,e as Be,O as X,T as Le}from"./tool-page-layout-BJTCHdxN.js";import{u as _e}from"./random-products-BGzpc2eO.js";import{Q as ze}from"./quantity-selector-DRMaDV_D.js";import{L as fe}from"./like-button-DvB805pa.js";import{A as Ie}from"./arrow-right-icon-Dd79w-P8.js";import{P as me}from"./product-slider-sjiVVRiO.js";import{B as Se}from"./breadcrumbs-DTCUp4tb.js";import"./vendor-DJG_os-6.js";import"./arrow-top-right-icon-CJD96YqP.js";const $e="_productSummary_tt8oa_1",Me="_imageWrapper_tt8oa_18",Te="_productName_tt8oa_37",We="_shotName_tt8oa_56",Pe="_hiddenTitle_tt8oa_65",Ee="_quantitySelector_tt8oa_78",Re="_hiddenSum_tt8oa_83",Ue="_price_tt8oa_95",R={productSummary:$e,imageWrapper:Me,productName:Te,shotName:We,hiddenTitle:Pe,quantitySelector:Ee,hiddenSum:Re,price:Ue},be=({product:t,quantity:n,lang:s,onIncrease:a,onDecrease:u})=>{const{t:j}=M("common"),m=te();return e.jsxs("div",{className:R.productSummary,children:[e.jsx("div",{className:R.imageWrapper,children:e.jsx("img",{src:t.images[0],alt:t.title[s]})}),e.jsxs("div",{className:R.productName,children:[e.jsxs("div",{children:[t.title[s],","]}),m==="doors"&&e.jsx("div",{children:t.description[s]||t.shortName[s]}),e.jsx("div",{className:R.shotName,children:t.shortName[s]})]}),e.jsx("span",{className:R.hiddenTitle,children:j("modal-order.quantity")}),e.jsx("div",{className:R.quantitySelector,children:e.jsx(ze,{quantity:n,onIncrease:a,onDecrease:u})}),e.jsx("span",{className:R.hiddenSum,children:j("modal-order.sum")}),e.jsxs("div",{className:R.price,children:[(t.price*n).toLocaleString()," ₸"]})]})},pe=()=>e.jsx("svg",{width:"18",height:"25",viewBox:"0 0 18 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.37451 1.65137C9.53202 1.41747 9.82622 1.31763 10.0933 1.4082C10.3602 1.49879 10.5333 1.75676 10.5161 2.03809L9.90967 11.875H15.938C16.1708 11.875 16.384 12.0046 16.4917 12.2109C16.5994 12.4173 16.5838 12.6664 16.4507 12.8574L9.13232 23.3574C8.97161 23.5879 8.67661 23.6833 8.41162 23.5898C8.14677 23.4964 7.97726 23.2372 7.99658 22.957L8.58643 14.4375H1.93799C1.70706 14.4375 1.4948 14.3102 1.38623 14.1064C1.27777 13.9026 1.29064 13.6554 1.41943 13.4639L9.37451 1.65137Z",stroke:"#222222",strokeWidth:"1.25",strokeLinejoin:"round"})}),Oe="_modalContent_1bxqq_1",qe="_modalTitle_1bxqq_14",He="_form_1bxqq_26",Fe="_input_1bxqq_31",Ze="_info_1bxqq_63",q={modalContent:Oe,modalTitle:qe,form:He,input:Fe,info:Ze},xe=({id:t})=>{var T;const n=ee(),{t:s,i18n:a}=M("common"),{closeModal:u}=J(),{getProductDetailsById:j}=F(),[m,C]=r.useState(1),[i,N]=r.useState(""),[g,_]=r.useState(""),[f,y]=r.useState(""),B=a.language,c=j(t),p=()=>C(h=>h+1),w=()=>C(h=>h>1?h-1:1),z=`${c==null?void 0:c.product.title[B]}, 
  ${((T=c==null?void 0:c.product.description)==null?void 0:T[B])||(c==null?void 0:c.product.shortName)} — 
  ${m} шт. = ${(((c==null?void 0:c.product.price)||0)*m).toLocaleString()} ₸`,I=h=>{h.preventDefault();const L={user_name:i,user_phone:g,order_details:z,user_city:f,total_price:`${(((c==null?void 0:c.product.price)||0)*m).toLocaleString()} ₸`};Be.send("service_86eog8m","template_45a1bjo",L,"ants2gildzCOiXvR5").then(()=>{N(""),_(""),y("")}).catch(d=>{console.error("Ошибка отправки:",d)}),u(),n("/cart/booked")};return e.jsxs("div",{className:q.modalContent,children:[e.jsx("h2",{className:q.modalTitle,children:s("modal-order.label").toUpperCase()}),e.jsx(be,{product:c==null?void 0:c.product,quantity:m,lang:B,onIncrease:p,onDecrease:w}),e.jsxs("form",{id:"form",className:q.form,onSubmit:I,children:[e.jsx("input",{className:q.input,type:"text",placeholder:s("modal-order.name.placeholder"),value:i,onChange:h=>N(h.target.value),required:!0}),e.jsx(ye,{value:g,onChange:_}),e.jsx("input",{className:q.input,type:"text",placeholder:s("modal-order.city.placeholder"),value:f,onChange:h=>y(h.target.value),required:!0}),e.jsx(U,{label:s("modal-order.button.label"),type:"submit"})]}),e.jsx("div",{className:q.info,dangerouslySetInnerHTML:{__html:s("modal-order.privacy-note")}})]})},De="_modalContent_1at39_1",Ae="_modalTitle_1at39_14",Qe="_buttonsContainer_1at39_26",ie={modalContent:De,modalTitle:Ae,buttonsContainer:Qe},ve=({id:t})=>{const n=ee(),{t:s,i18n:a}=M("common"),{showModal:u,closeModal:j}=J(),{updateQuantity:m}=he(),C=a.language,[i,N]=r.useState(1),{getProductDetailsById:g}=F(),_=()=>{u(e.jsx(xe,{id:t}))},f=()=>{m(y.product.id,i),j(),n("/cart")},y=g(t),B=()=>N(p=>p+1),c=()=>N(p=>p>1?p-1:1);return e.jsxs("div",{className:ie.modalContent,children:[e.jsx("h2",{className:ie.modalTitle,children:s("modal-card.title").toUpperCase()}),e.jsx(be,{product:y==null?void 0:y.product,quantity:i,lang:C,onIncrease:B,onDecrease:c}),e.jsxs("div",{className:ie.buttonsContainer,children:[e.jsx(U,{label:s("button-order.label"),variant:"white",icon:e.jsx(pe,{}),onClick:_}),e.jsx(U,{label:s("button-cart.label"),variant:"black",onClick:f})]})]})},Ve=()=>e.jsx("svg",{width:"12",height:"17",viewBox:"0 0 12 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10.5 16.0811L1.5 8.58105L10.5 1.08106",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Ge=()=>e.jsx("svg",{width:"12",height:"17",viewBox:"0 0 12 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1.5 1.08105L10.5 8.58105L1.5 16.0811",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Xe=()=>{const{pathname:t}=ue(),{i18n:n}=M(),s=n.language,a=t.split("/").filter(Boolean),u=a[0],j=a[1]??"",m=a[2],{getCollectionById:C,getProductById:i}=F(),N=C(j);if(!N)return[];if(u==="doors")return(N.items??[]).map(g=>{var _,f;return{src:((_=g.images)==null?void 0:_[0])??"",label:((f=g.description)==null?void 0:f[s])??"",alt:g.alt??""}});if(u==="furniture"){const g=i(m??"");return g?(g.images??[]).map(_=>{var f;return{src:_,label:((f=g.description)==null?void 0:f[s])??"",alt:g.alt??""}}):[]}return[]},Je="_sliderWrapper_1b6ci_1",Ke="_simpleBar_1b6ci_12",Ye="_scrollContainer_1b6ci_21",et="_card_1b6ci_25",tt="_full_1b6ci_47",st="_selected_1b6ci_53",ot="_textWrap_1b6ci_56",nt="_caption_1b6ci_69",rt="_navButton_1b6ci_83",$={sliderWrapper:Je,simpleBar:Ke,scrollContainer:Ye,card:et,full:tt,selected:st,textWrap:ot,caption:nt,navButton:rt},we=({selectedIndex:t,onSelect:n})=>{var c;const s=Xe(),{isMobile:a}=P(),{t:u}=M("common"),j=te(),m=r.useRef(null),C=r.useRef([]),[i,N]=r.useState(!1),g=()=>{var p,w;return(w=(p=m.current)==null?void 0:p.getScrollElement)==null?void 0:w.call(p)},_=r.useCallback(()=>{const p=g();p&&N(p.scrollWidth>p.clientWidth)},[]);r.useEffect(()=>{t!==void 0&&t>=0&&t<s.length&&f(t)},[t,s.length]),r.useEffect(()=>(_(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)),[s,_]);const f=p=>{var I,T;const w=C.current[p],z=(T=(I=m.current)==null?void 0:I.getScrollElement)==null?void 0:T.call(I);if(w&&z){const{left:h,width:L}=w.getBoundingClientRect(),{left:d,width:b}=z.getBoundingClientRect(),S=h-d-(b-L)/2;z.scrollBy({left:S,behavior:"smooth"}),n==null||n(p)}},y=()=>{t===void 0||t<=0||f(t-1)},B=()=>{t===void 0||t>=s.length-1||f(t+1)};return e.jsxs("div",{className:$.sliderWrapper,children:[e.jsx(ge,{autoHide:!1,className:$.simpleBar,ref:m,children:e.jsx("div",{className:$.scrollContainer,children:s.map((p,w)=>e.jsx("div",{ref:z=>{C.current[w]=z},className:`
        ${$.card} 
        ${t===w?$.selected:""} 
        ${w>0&&j==="furniture"?$.full:""}
      `,onClick:()=>f(w),children:e.jsx("img",{src:p.src,alt:p.alt,className:$.image})},w))})}),e.jsxs("div",{className:$.textWrap,children:[t!==void 0&&e.jsx("div",{className:$.caption,children:(c=s[t])==null?void 0:c.label}),i&&!a&&e.jsxs("div",{className:$.navButton,children:[e.jsx(de,{bgColor:H.background.grey,ariaLabel:u("aria-label-left"),icon:e.jsx(Ve,{}),onClick:y,disabledColor:H.background.circleButton,disabled:t===0}),e.jsx(de,{bgColor:H.background.grey,ariaLabel:u("aria-label-right"),icon:e.jsx(Ge,{}),onClick:B,disabledColor:H.background.circleButton,disabled:t===s.length-1})]})]})]})},it=()=>{const{isMobile:t}=P();return e.jsx("svg",{width:t?"14":"16",height:t?"14":"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1131 8.784C14.146 8.528 14.1706 8.272 14.1706 8C14.1706 7.728 14.146 7.472 14.1131 7.216L15.8484 5.896C16.0047 5.776 16.0458 5.56 15.9471 5.384L14.3022 2.616C14.2035 2.44 13.9815 2.376 13.8005 2.44L11.7526 3.24C11.325 2.92 10.8644 2.656 10.3627 2.456L10.0502 0.336C10.0255 0.144 9.8528 0 9.64719 0H6.35742C6.15181 0 5.9791 0.144 5.95442 0.336L5.64189 2.456C5.1402 2.656 4.67964 2.928 4.25197 3.24L2.20408 2.44C2.01492 2.368 1.80109 2.44 1.70239 2.616L0.0575095 5.384C-0.0494081 5.56 -6.12587e-05 5.776 0.156203 5.896L1.89156 7.216C1.85866 7.472 1.83399 7.736 1.83399 8C1.83399 8.264 1.85866 8.528 1.89156 8.784L0.156203 10.104C-6.12587e-05 10.224 -0.0411836 10.44 0.0575095 10.616L1.70239 13.384C1.80109 13.56 2.02315 13.624 2.20408 13.56L4.25197 12.76C4.67964 13.08 5.1402 13.344 5.64189 13.544L5.95442 15.664C5.9791 15.856 6.15181 16 6.35742 16H9.64719C9.8528 16 10.0255 15.856 10.0502 15.664L10.3627 13.544C10.8644 13.344 11.325 13.072 11.7526 12.76L13.8005 13.56C13.9897 13.632 14.2035 13.56 14.3022 13.384L15.9471 10.616C16.0458 10.44 16.0047 10.224 15.8484 10.104L14.1131 8.784ZM8.00231 10.8C6.41499 10.8 5.12376 9.544 5.12376 8C5.12376 6.456 6.41499 5.2 8.00231 5.2C9.58962 5.2 10.8809 6.456 10.8809 8C10.8809 9.544 9.58962 10.8 8.00231 10.8Z",fill:"#666666"})})},at=()=>{const{isMobile:t}=P();return e.jsx("svg",{width:t?"14":"16",height:t?"14":"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6.55763 0.189451C6.84861 0.167143 7.13448 0.273129 7.34084 0.47949L15.3672 8.50488C15.7576 8.89535 15.7576 9.52841 15.3672 9.91894L9.73635 15.5498C9.34582 15.9403 8.71183 15.9403 8.32131 15.5498L0.295916 7.52441C0.0894937 7.31799 -0.0165129 7.0313 0.00587671 6.74023L0.40822 1.51172C0.446042 1.02003 0.836497 0.628777 1.32814 0.590818L6.55763 0.189451ZM13.3154 7.8789C13.1426 7.7101 12.8781 7.6919 12.6856 7.82226L12.6084 7.88769L7.7549 12.8564C7.56204 13.0539 7.56542 13.3705 7.76271 13.5635C7.96018 13.7563 8.27677 13.753 8.46974 13.5557L13.3233 8.58594L13.3867 8.50683C13.5124 8.31132 13.4881 8.04766 13.3154 7.8789ZM6.07912 3.95605C5.44223 3.31916 4.4094 3.31922 3.77248 3.95605C3.13556 4.59297 3.13556 5.62578 3.77248 6.26269C4.4094 6.89953 5.44223 6.89958 6.07912 6.26269C6.71593 5.6258 6.71593 4.59295 6.07912 3.95605Z",fill:"#666666"})})},ct=()=>{const{isMobile:t}=P();return e.jsx("svg",{width:t?"12":"13",height:t?"15":"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.72761 1.12471C6.1678 0.746212 6.83447 0.747805 7.27351 1.12764C8.98331 2.60706 10.6553 2.9185 11.9991 2.98408C12.5507 3.01102 13.0001 3.45334 12.9932 4.00557C12.8986 11.6476 11.6365 13.0712 6.87508 15.0808C6.63132 15.1836 6.35227 15.1835 6.10847 15.0808C1.3471 13.0712 0.0939293 11.6477 7.57352e-05 4.00557C-0.00670445 3.45335 0.442641 3.01136 0.994216 2.98408C2.33352 2.91794 4.00678 2.60479 5.72761 1.12471ZM10.0821 5.75557C9.90255 5.59428 9.63819 5.5873 9.45125 5.72529L9.37605 5.79268L5.54793 10.0446L4.06355 8.56025L3.98543 8.49678C3.79145 8.36861 3.52742 8.38964 3.35652 8.56025C3.18584 8.73098 3.16428 8.99515 3.29207 9.18916L3.35652 9.26826L5.21394 11.1247C5.31092 11.2217 5.44404 11.2748 5.58113 11.2712C5.71816 11.2675 5.84782 11.208 5.93953 11.1062L10.1192 6.4626C10.3039 6.25735 10.2873 5.94028 10.0821 5.75557Z",fill:"#666666"})})},lt=()=>{const{isMobile:t}=P();return e.jsx("svg",{width:t?"12":"13",height:t?"14":"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6.81396 0C7.07904 0.000102339 7.33355 0.105523 7.521 0.292969L12.0259 4.79785C12.2134 4.98534 12.3188 5.23974 12.3188 5.50488V15C12.3188 15.5522 11.871 15.9999 11.3188 16H1.68213C1.12999 15.9999 0.682176 15.5522 0.682129 15V1C0.682129 0.447797 1.12996 0.000131923 1.68213 0H6.81396ZM6.50049 6H11.5005L6.50049 1V6Z",fill:"#666666"})})},dt="_buttonsContainer_1g0yu_1",mt="_button_1g0yu_1",ht="_blockTitle_1g0yu_15",W={buttonsContainer:dt,button:mt,blockTitle:ht},Ne=()=>{const{t}=M("common"),{showModal:n}=J();return e.jsxs("div",{className:W.buttonsContainer,children:[e.jsx("div",{className:W.button,children:e.jsx(X,{theme:"light",text:t("common-button-block.order"),icon:e.jsx(it,{}),onClick:()=>n(e.jsxs("div",{className:W.blockTitle,children:[e.jsx("h2",{children:t("common-button-block.order").toUpperCase()}),e.jsx("span",{children:t("modal-window-title.order.label")})]}))})}),e.jsx("div",{className:W.button,children:e.jsx(X,{theme:"light",text:t("common-button-block.warranty"),icon:e.jsx(ct,{}),onClick:()=>n(e.jsxs("div",{className:W.blockTitle,children:[e.jsx("h2",{children:t("common-button-block.warranty").toUpperCase()}),e.jsx("span",{children:t("modal-window-title.warranty.label-1")}),e.jsx("br",{}),e.jsx("span",{children:t("modal-window-title.warranty.label-2")})]}))})}),e.jsx("div",{className:W.button,children:e.jsx(X,{theme:"light",text:t("common-button-block.price"),icon:e.jsx(at,{}),onClick:()=>n(e.jsxs("div",{className:W.blockTitle,children:[e.jsx("h2",{children:t("common-button-block.price").toUpperCase()}),e.jsx("span",{children:t("modal-window-title.price.label-1")}),e.jsx("span",{children:t("modal-window-title.price.label-2")}),e.jsx("span",{children:t("modal-window-title.price.label-3")})]}))})}),e.jsx("div",{className:W.button,children:e.jsx(X,{theme:"light",text:t("common-button-block.terms"),icon:e.jsx(lt,{}),onClick:()=>n(e.jsxs("div",{className:W.blockTitle,children:[e.jsx("h2",{children:t("common-button-block.terms").toUpperCase()}),e.jsx("span",{children:t("modal-window-title.terms.label-1")}),e.jsx("span",{children:t("modal-window-title.terms.label-2")}),e.jsx("br",{}),e.jsx("span",{children:t("modal-window-title.terms.label-3")})]}))})})]})},ut="_page_to7tz_1",pt="_imagesWrap_to7tz_15",xt="_imageBlock_to7tz_33",jt="_mainImage_to7tz_60",Ct="_full_to7tz_72",gt="_sliderContainer_to7tz_86",_t="_likeWrap_to7tz_90",ft="_infoBlock_to7tz_97",bt="_titleBlock_to7tz_110",vt="_title_to7tz_110",wt="_price_to7tz_130",Nt="_tooltipWrapper_to7tz_145",kt="_tooltip_to7tz_145",yt="_icon_to7tz_154",Bt="_descriptionContainer_to7tz_199",Lt="_textBlock_to7tz_204",zt="_showFade_to7tz_237",It="_expanded_to7tz_241",St="_readMoreButton_to7tz_248",$t="_actions_to7tz_273",Mt="_furniture_to7tz_280",Tt="_article_to7tz_313",Wt="_columns_to7tz_323",Pt="_column_to7tz_323",Et="_setDescription_to7tz_357",Rt="_sizeSpan_to7tz_370",Ut="_slider_to7tz_86",Ot="_sliderTitle_to7tz_385",qt="_wrapper_to7tz_397",Ht="_track_to7tz_403",Ft="_infoImage_to7tz_416",Zt="_image_to7tz_15",Dt="_infoText_to7tz_428",o={page:ut,imagesWrap:pt,imageBlock:xt,mainImage:jt,full:Ct,sliderContainer:gt,likeWrap:_t,infoBlock:ft,titleBlock:bt,title:vt,price:wt,tooltipWrapper:Nt,tooltip:kt,icon:yt,descriptionContainer:Bt,textBlock:Lt,showFade:zt,expanded:It,readMoreButton:St,actions:$t,furniture:Mt,article:Tt,columns:Wt,column:Pt,setDescription:Et,sizeSpan:Rt,slider:Ut,sliderTitle:Ot,wrapper:qt,track:Ht,infoImage:Ft,image:Zt,infoText:Dt},At=()=>{var Q,V,G;const t=ee(),n=ue(),{t:s,i18n:a}=M("doors"),{isMobile:u}=P(),{isInCart:j,addToCart:m}=he(),{showModal:C}=J(),{id:i,collectionId:N}=Y(),[g,_]=r.useState(!1),[f,y]=r.useState(!1),B=r.useRef(null),c=r.useRef(null),{getCollectionById:p,getCollectionTitleById:w,getProductById:z,getProductDetailsById:I,getCollectionsByCategoryId:T}=F(),h=a.language,L=p(N??""),d=r.useMemo(()=>(L==null?void 0:L.items)??[],[L]),b=r.useMemo(()=>i?z(i)??d[0]:d[0],[i,z,d]),S=I(i),se=r.useMemo(()=>{var l;return((l=S==null?void 0:S.collection)==null?void 0:l.items.map(v=>v.id))??[]},[S]),Z=_e({count:5,excludeProductId:se}),D=r.useRef(Z);r.useEffect(()=>{D.current=Z},[i]);const oe=D.current;if(r.useEffect(()=>{const l=()=>{var v;(v=c.current)==null||v.recalculate()};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[n.pathname,n.hash]),r.useEffect(()=>{const l=()=>{const v=B.current;if(!v)return;const x=u?202:305,k=v.scrollHeight>x;y(O=>O!==k?k:O)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[u,i,h]),r.useEffect(()=>{_(!1)},[i,h]),!L||!b)return null;const E=((Q=b.text)==null?void 0:Q[h])??[],A=()=>{C(e.jsx(xe,{id:b.id}))},ne=()=>{m(b.id),C(e.jsx(ve,{id:b.id}))},re=T("doors").filter(l=>l.id!==L.id);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:o.page,children:[e.jsxs("section",{className:o.imagesWrap,children:[e.jsxs("div",{className:o.imageBlock,children:[e.jsx("img",{className:o.mainImage,src:(V=b.images)==null?void 0:V[0],alt:b.alt,fetchPriority:"high"}),e.jsx("div",{className:o.likeWrap,children:e.jsx(fe,{productId:b.id})})]}),e.jsx("div",{className:o.sliderContainer,children:e.jsx(we,{selectedIndex:d.findIndex(l=>l.id===b.id),onSelect:l=>{const v=L.items[l];t(`/doors/${L.id}/${v.id}`,{replace:!0})}})})]}),e.jsxs("section",{className:o.infoBlock,children:[e.jsxs("div",{className:o.titleBlock,children:[e.jsx("h1",{className:o.title,children:((G=b.pageHeader)==null?void 0:G[h])??b.title[h]}),e.jsxs("div",{className:o.price,children:[h==="ru"?e.jsxs(e.Fragment,{children:[s("price-label")," ",b.price.toLocaleString()," ₸*"]}):e.jsxs(e.Fragment,{children:[b.price.toLocaleString()," ₸* ",s("price-label")]}),e.jsxs("div",{className:o.tooltipWrapper,children:[e.jsx("div",{className:o.icon,children:"i"}),e.jsx("div",{className:o.tooltip,children:s("info-text")})]})]})]}),e.jsxs("div",{className:o.descriptionContainer,children:[e.jsxs("div",{ref:B,className:[o.textBlock,g?o.expanded:"",f&&!g?o.showFade:""].join(" "),children:[E.map((l,v)=>e.jsx("p",{children:l},v)),e.jsx("p",{children:s("common.description")})]}),f&&!g&&e.jsx("button",{className:o.readMoreButton,onClick:()=>_(!0),children:s("button-read.label")})]}),e.jsxs("div",{className:o.actions,children:[e.jsx(U,{label:s("button-order.label"),variant:"white",icon:e.jsx(pe,{}),onClick:A}),e.jsx(U,{label:j(b.id)?s("button.in-cart"):s("button.add-to-cart"),onClick:ne}),e.jsx(Ne,{})]})]})]}),e.jsx("section",{className:o.article,children:e.jsxs("div",{className:o.columns,children:[e.jsxs("div",{className:o.column,children:[e.jsx("h2",{children:s("parameter-header.period").toUpperCase()}),e.jsx("span",{children:s("parameter-header.period.text")}),e.jsx("h2",{children:s("parameter-header.price").toUpperCase()}),e.jsx("span",{children:s("parameter-header.price.text-1")}),e.jsx("span",{children:s("parameter-header.price.text-2")})]}),e.jsxs("div",{className:o.column,children:[e.jsx("h2",{children:s("parameter-header.materials").toUpperCase()}),e.jsx("span",{children:s("parameter-header.materials.text")}),e.jsx("h2",{children:s("parameter-header.sizes").toUpperCase()}),e.jsx("span",{children:s("parameter-header.sizes.text-1")}),e.jsx("span",{children:s("parameter-header.sizes.text-2")}),e.jsx("h2",{children:s("parameter-header.color").toUpperCase()}),e.jsx("span",{children:s("parameter-header.color.text")})]})]})}),e.jsxs("section",{className:o.slider,children:[e.jsx("h2",{className:o.sliderTitle,children:s("doors-title").toUpperCase()}),e.jsx(ge,{ref:c,className:o.wrapper,autoHide:!1,children:e.jsx("div",{className:o.track,children:re.map((l,v)=>e.jsxs("div",{className:o.infoImage,children:[e.jsx("img",{src:l.heroImage,alt:l.heroAlt,className:o.image,loading:"lazy"}),e.jsxs("div",{className:o.infoText,children:[e.jsx("span",{children:w(l.id)}),u?e.jsx(de,{onClick:()=>t(`/doors/${l.id}`),bgColor:H.background.grey,ariaLabel:s("button-transition.label"),icon:e.jsx(Ie,{color:H.text.main})}):e.jsx(X,{text:s("doors-transition.button"),onClick:()=>t(`/doors/${l.id}`)})]})]},v))})})]}),e.jsx("section",{className:o.slider,children:e.jsx(me,{title:s("random-title").toUpperCase(),items:oe,headingSize:"large",handleCardClick:l=>{const v=I(l);if(!v)return;const{collection:x,category:k}=v;t(`/${k.id}/${x.id}/${l}`)}})})]})},Qt=()=>{const{isMobile:t}=P();return e.jsx("svg",{width:t?"13":"18",height:t?"10":"14",viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10.7635 0.500556C10.6989 0.505455 10.636 0.522444 10.5784 0.550544C10.5207 0.578645 10.4695 0.617302 10.4277 0.66429C10.3858 0.711277 10.3542 0.765666 10.3346 0.824325C10.3149 0.882983 10.3077 0.944751 10.3133 1.00607V5.12797C4.09259 5.71125 0.0818517 9.75538 0 13.8384C0 14.0717 0.0818517 14.2272 0.245555 14.2272C0.409259 14.2272 0.532036 14.1106 0.69574 13.7995C1.67796 11.6997 3.88796 10.4942 10.3133 10.222V13.9939C10.3077 14.0552 10.3149 14.117 10.3346 14.1757C10.3542 14.2343 10.3858 14.2887 10.4277 14.3357C10.4695 14.3827 10.5207 14.4214 10.5784 14.4495C10.636 14.4776 10.6989 14.4945 10.7635 14.4994C10.8276 14.5029 10.8916 14.4903 10.949 14.4631C11.0064 14.4358 11.0553 14.3947 11.0909 14.3439L17.8437 7.92774C17.9443 7.8208 18 7.68236 18 7.53889C18 7.39541 17.9443 7.25697 17.8437 7.15003L11.0909 0.656099C11.0553 0.605307 11.0064 0.564232 10.949 0.536948C10.8916 0.509663 10.8276 0.497118 10.7635 0.500556Z",fill:"#666666"})})},Vt="_wrapper_1wcj3_1",Gt="_shareButton_1wcj3_4",Xt="_copiedPopup_1wcj3_26",ae={wrapper:Vt,shareButton:Gt,copiedPopup:Xt},Jt=()=>{const{isMobile:t}=P(),{t:n}=M("common"),s=ue(),a=window.location.origin+s.pathname+s.search,[u,j]=r.useState(!1),m=async()=>{try{navigator.share&&t?await navigator.share({title:document.title,url:a}):(await navigator.clipboard.writeText(a),j(!0),setTimeout(()=>j(!1),2e3))}catch(C){console.error("Ошибка:",C)}};return e.jsxs("div",{className:ae.wrapper,children:[e.jsxs("button",{className:ae.shareButton,onClick:m,children:[e.jsx(Qt,{}),e.jsxs("span",{children:[" ",n("button-share.label")," "]})]}),u&&e.jsx("div",{className:ae.copiedPopup,children:n("button-share.copied")})]})};function ce(t){return t?(Array.isArray(t)?t:[t]).filter(Boolean).map(a=>`${a}см`).join(" / "):""}function Kt(t,n){return!t||!t[n]?"":t[n].filter(a=>a.trim()!=="").join(" / ")}const Yt={ru:["бука","ясеня","дуба"],kk:["шегіршін, қайың, кемен"]};function es(t,n){var C;const s=((C=t.material)==null?void 0:C[n])||(n==="ru"?"сосны":"қарағай"),a=[...Yt[n]],u=n==="ru"?"сосны":"қарағай",j=a.indexOf(s);j>=0&&a.splice(j,1),s!==u&&!a.includes(u)&&a.push(u);const m=a.length>0?n==="ru"?`, возможно производство из ${a.join(", ")} или других пород`:`, сондай-ақ ${a.join(", ")} немесе басқа ағаш түрлерінен жасауға болады`:"";return n==="ru"?`Изделие на фото изготовлено из натурального массива ${s}${m}.`:`Суреттегі бұйым табиғи ${s}${m} массивінен жасалған,`}const ts=()=>{var Q,V,G,l,v;const t=ee(),{t:n,i18n:s}=M("furniture"),{isMobile:a}=P(),{isInCart:u,addToCart:j}=he(),{showModal:m}=J(),{collectionId:C}=Y(),{id:i}=Y(),[N,g]=r.useState(!1),[_,f]=r.useState(!1),y=r.useRef(null),[B,c]=r.useState(0),{getCollectionById:p,getItemById:w,getProductById:z,getProductDetailsById:I}=F(),T=te(),h=s.language,d=(C&&i?w(C,i):null)??(i?z(i):null),b=r.useMemo(()=>(d==null?void 0:d.images)??[],[d]),S=I(i),se=r.useMemo(()=>{var x;return((x=S==null?void 0:S.collection)==null?void 0:x.items.map(k=>k.id))??[]},[S]),Z=_e({count:5,excludeProductId:se}),D=r.useRef(Z);r.useEffect(()=>{D.current=Z},[i]);const oe=D.current;if(r.useEffect(()=>{if(!i||b.length===0)return;const x=b.findIndex(k=>k.includes(i));x!==-1&&c(x)},[i,b]),r.useEffect(()=>{const x=()=>{const k=y.current;if(!k)return;const O=a?202:305,K=k.scrollHeight>O;f(Ce=>Ce!==K?K:Ce)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[a,i,h]),r.useEffect(()=>{g(!1)},[i,h]),!i||!d)return null;const E=p(C??""),A=E==null?void 0:E.items.filter(x=>x.id!==i),ne=((Q=d.text)==null?void 0:Q[h])??[],je=()=>{m(e.jsx(xe,{id:i}))},re=()=>{j(i),m(e.jsx(ve,{id:i}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${o.page} ${o.furniture} `,children:[e.jsxs("section",{className:o.imagesWrap,children:[e.jsxs("div",{className:`${o.imageBlock} ${T==="furniture"?o.full:""}`,children:[e.jsx("img",{className:o.mainImage,src:d.images[B],alt:d.alt,fetchPriority:"high"}),e.jsx("div",{className:o.likeWrap,children:e.jsx(fe,{productId:d.id})})]}),e.jsx("div",{className:o.sliderContainer,children:e.jsx(we,{selectedIndex:B,onSelect:x=>c(x)})})]}),e.jsxs("section",{className:o.infoBlock,children:[e.jsxs("div",{className:o.titleBlock,children:[e.jsx("h1",{className:o.title,children:(V=d.pageHeader)==null?void 0:V[h]}),e.jsxs("div",{className:o.price,children:[h==="ru"?e.jsxs(e.Fragment,{children:[n("price-label")," ",d.price.toLocaleString()," ₸*"]}):e.jsxs(e.Fragment,{children:[d.price.toLocaleString()," ₸* ",n("price-label")]}),e.jsxs("div",{className:o.tooltipWrapper,children:[e.jsx("div",{className:o.icon,children:"i"}),e.jsx("div",{className:o.tooltip,children:n("info-text")})]})]})]}),e.jsxs("div",{className:o.descriptionContainer,children:[e.jsx("div",{ref:y,className:[o.textBlock,N?o.expanded:"",_&&!N?o.showFade:""].join(" "),children:ne.map((x,k)=>e.jsx("p",{children:x},k))}),_&&!N&&e.jsx("button",{className:o.readMoreButton,onClick:()=>g(!0),children:n("button-read.label")})]}),e.jsxs("div",{className:o.actions,children:[e.jsx(U,{label:n("button-order.label"),variant:"white",icon:e.jsx(pe,{}),onClick:je}),e.jsx(U,{label:u(i)?n("button.in-cart"):n("button.add-to-cart"),onClick:re}),e.jsx(Ne,{})]})]})]}),e.jsx("section",{className:o.article,children:e.jsxs("div",{className:o.columns,children:[e.jsxs("div",{className:o.column,children:[e.jsx("h2",{children:n("parameter-header.period").toUpperCase()}),e.jsx("span",{children:`${n("parameter-header.period.text-1")} ${d.time}  ${n("parameter-header.period.text-2")}`}),e.jsx("h2",{children:n("parameter-header.price").toUpperCase()}),e.jsx("span",{children:n("parameter-header.price.text")}),e.jsx("h2",{children:n("parameter-header.color").toUpperCase()}),e.jsx("span",{children:n("parameter-header.color.text")})]}),e.jsxs("div",{className:o.column,children:[e.jsx("h2",{children:n("parameter-header.materials").toUpperCase()}),e.jsx("span",{children:es(d,s.language)}),e.jsxs("h2",{children:[n("parameter-header.sizes").toUpperCase(),d.set&&e.jsxs("span",{className:o.setDescription,children:[": ",Kt(d.set,s.language).toUpperCase()]})]}),e.jsxs("span",{className:o.sizeSpan,children:[e.jsx("b",{children:n("parameter-header.sizes.height")}),`: ${ce((G=d.sizes)==null?void 0:G.height)}`]}),e.jsxs("span",{className:o.sizeSpan,children:[e.jsx("b",{children:n("parameter-header.sizes.length")}),`: ${ce((l=d.sizes)==null?void 0:l.width)}`]}),e.jsxs("span",{className:o.sizeSpan,children:[e.jsx("b",{children:n("parameter-header.sizes.depth")}),`: ${ce((v=d.sizes)==null?void 0:v.depth)}`]})]})]})}),A&&A.length>=1&&e.jsx("section",{className:o.slider,children:e.jsx(me,{title:`${n("slider-header.same")}  ${E==null?void 0:E.title[h]}`.toUpperCase(),items:A,headingSize:"large",handleCardClick:x=>t(`/furniture/${C}/${x}`)})}),e.jsx("section",{className:o.slider,children:e.jsx(me,{title:n("random-title").toUpperCase(),items:oe,headingSize:"large",handleCardClick:x=>{const k=I(x);if(!k)return;const{collection:O,category:K}=k;t(`/${K.id}/${O.id}/${x}`)}})})]})},ss="_pageContainer_5g8yf_1",os="_topContainer_5g8yf_16",ns="_textInfo_5g8yf_23",le={pageContainer:ss,topContainer:os,textInfo:ns},fs=()=>{const{collectionId:t}=Y(),n=te(),{getCollectionById:s}=F(),{i18n:a}=M("common"),u=a.language,j=s(t),m=r.useMemo(()=>{switch(n){case"furniture":return ts;default:return At}},[n]);if(!(!j||!n))return e.jsx(Le,{children:e.jsxs("div",{className:le.pageContainer,children:[e.jsxs("div",{className:le.topContainer,children:[e.jsx(Se,{current:j.title[u],categoryId:n}),e.jsx(Jt,{})]}),e.jsx(m,{}),e.jsx("section",{className:le.textInfo,children:e.jsx(ke,{})})]})})};export{fs as default};
